<div class="dashboard-container">
  <header class="page-header">
    <h1>My Event Bookings</h1>
    <p>View and manage the offers you've sent to venue providers.</p>
  </header>

  <div class="offers-carousel">
    <div class="no-offers" *ngIf="bookings.length === 0 && !loading">
      <mat-icon>history_edu</mat-icon>
      <p>You haven't made any offers yet. Start exploring locations!</p>
    </div>

    <mat-card *ngFor="let booking of bookings" class="offer-card">
      <div class="status-indicator" [ngClass]="booking.status"></div>
      
      <div class="card-header-spacer">
        <mat-card-header>
            <mat-card-title>{{ booking.location.name }}</mat-card-title>
            
        </mat-card-header>
      </div>

      <mat-card-content>
        <div class="detail-row">
          <mat-icon>provider</mat-icon>
          <span><strong>Provider:</strong> {{ booking.provider.name }}</span>
        </div>

        <div class="detail-row">
          <mat-icon>payments</mat-icon>
          <span><strong>My Offer:</strong> {{ booking.price_offer }} RON</span>
        </div>

        <div class="detail-row">
          <mat-icon>groups</mat-icon>
          <span><strong>Guests:</strong> {{ booking.guest_count }}</span>
        </div>

        <div class="detail-row date-box">
          <mat-icon>event</mat-icon>
          <div class="date-info">
            <span>{{ booking.start_datetime | date:'MMM d, HH:mm' }}</span>
            <span class="date-separator">to</span>
            <span>{{ booking.end_datetime | date:'MMM d, HH:mm' }}</span>
          </div>
        </div>
      </mat-card-content>

      <mat-card-actions>
        <button mat-stroked-button color="primary" 
                *ngIf="booking.status === 'pending'"
                (click)="editBooking(booking)">
        <mat-icon>edit</mat-icon> EDIT
        </button>

        <button mat-stroked-button color="warn" 
                *ngIf="booking.status === 'pending' || booking.status === 'accepted'"
                (click)="deleteBooking(booking.reservation_id)">
        <mat-icon>cancel</mat-icon> CANCEL
        </button>

        <button mat-stroked-button color="warn" 
                *ngIf="booking.status === 'rejected'"
                (click)="deleteBooking(booking.reservation_id)">
        <mat-icon>delete</mat-icon> DELETE
        </button>

      </mat-card-actions>

      <div class="final-status" *ngIf="booking.status !== 'pending' && booking.status !== 'accepted'" [ngClass]="booking.status">
        {{ booking.status | uppercase }}
      </div>
      
      <div class="final-status accepted" *ngIf="booking.status === 'accepted'">
        <mat-icon>check_circle</mat-icon> CONFIRMED
      </div>
    </mat-card>
  </div>
</div>